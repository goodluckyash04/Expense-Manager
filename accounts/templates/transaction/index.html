{% extends 'header.html' %} 
{% load static %} 
{% block body %}

<!-- Filter Grid -->
{% include 'transaction/filter_section.html' %}

<!-- Keyword Display -->
{% if key %}
    <p class="mt-3 ms-5 text-secondary">Keyword : <b><span id="key" style="color: var(--primary-dark);">{{ key }}</span></b></p>
{% elif data %}
    <p class="mt-3 ms-5 text-secondary">Keywords:
        {% for j, i in data.items %}
            {% if i != "" %}
                {% if j == "type" %}
                    {% for item in i %}
                        <b><span id="key" style="color: var(--primary-dark);">{{ item }},</span></b>
                    {% endfor %}
                {% else %}
                    <b><span id="key" style="color: var(--primary-dark);">{{ i }},</span></b>
                {% endif %}
            {% endif %}
        {% endfor %}
    </p>
{% else %}
    <span id="key" class="text-success visually-hidden">Transaction Report</span>
{% endif %}

<!-- Summary Section (Responsive Card Layout) -->
{% include 'transaction/txn_summary.html' %}

<!-- Table with Data -->
{% include 'transaction/transaction_detail.html' %}

<!-- Confirmation Modal -->
{% include 'comman_template/confirmation_modal.html' with modal_body='Are you sure you want to delete this transaction?' multiple='false' %}

<!-- Edit Transaction Modal -->
{% include 'transaction/edit_transaction.html' with modal_id='editTransaction' title='' action='' submit_button='' %}

{% endblock body %}

{% block script %}
<script src="{% static 'js/generateCSV.js' %}"></script>
<script src="{% static 'js/transaction.js' %}"></script>
<script src="{% static 'js/multiSelection.js' %}"></script>
<script src="{% static 'js/confirmationModal.js' %}"></script>

{% endblock script %}
