{% extends 'index.html' %}
{% load static %}
{% block body %}
<div class="container ">
  <div class="row justify-content-center">
    <div class="col-10 col-sm-10 col-md-8 col-lg-4">
      <form
        method="post"
        action="/"
        style="margin-top: 30%;">

        <h2 class="text-center" style="color:var(--primary);font-family:Rubik Vinyl;">MyHelperBuddy</h2>
        <p class="fs-4 text-center" style="color:var(--primary);">Sign-In</p>
        <div class="mb-3">
          <input
            type="text"
            placeholder="Username"
            class="form-control"
            name="username"
            id="username"
            style="line-height:2rem"
            aria-describedby="emailHelp"
            required
          />
        </div>
        <div class="mb-3 input-group">
          <input
            type="password"
            placeholder="Password"
            class="form-control"
            name="password"
            id="password"
            style="line-height:1.9rem"

            required
          />
          <span class="input-group-text" id="addon-wrapping">
            <i class="fa-solid fa-eye " style="color:var(--primary)" id="showPasswordButton" onclick="togglePasswordVisibility()"></i>
          </span>
        </div>
        {% if msg|first in "PU" %}
        <p class="text-success my-1">{{msg}}</p>
        {% else %}
        <p class="text-danger my-1 ">{{msg | title}}</p>
        {% endif %}
        {% csrf_token %}
        <div class="mb-2">
          <button
            type="submit"
            class="btn btn-primary form-control"
            style="background-color:var(--primary); border: none; line-height:2.2rem"
          >
            LOGIN
          </button>
        </div>
        <div class="d-flex justify-content-center">
          <a class="text-decoration-none" style="color:var(--primary)" href="/forgotPassword"> Forgot Password?</a>
        </div>
        <hr class="my-3">
          <div class="d-flex justify-content-center ">
          <a class="text-secondary text-decoration-none" href="/signup">Don't have an Account? &nbsp; <b style="color:var(--primary)">SIGN UP</b></a>
        </div>

      </form>
    </div>
  </div>
</div>
{% endblock body %}

{% block script %}
<script>
  function togglePasswordVisibility() {
    var passwordInput = document.getElementById("password");
    var showPasswordButton = document.getElementById("showPasswordButton");

    if (passwordInput.type === "password") {
      passwordInput.type = "text";
      showPasswordButton.classList.remove("fa-eye");
      showPasswordButton.classList.add("fa-eye-slash");
    } else {
      passwordInput.type = "password";
      showPasswordButton.classList.remove("fa-eye-slash");
      showPasswordButton.classList.add("fa-eye");
    }
  }
</script>
{% endblock script %}
